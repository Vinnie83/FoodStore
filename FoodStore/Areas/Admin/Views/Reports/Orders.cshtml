@using FoodStore.ViewModels.Admin
@model IEnumerable<OrderReportViewModel>
@{
    ViewData["Title"] = "Orders Report";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<h2 class="mb-4">Orders Report</h2>

<form method="get" class="mb-4">
    <label for="filter">Filter by:</label>
    <select name="filter" id="filter" onchange="this.form.submit()">
        <option value="">-- Select --</option>
        <option value="order_id">By Id</option>
        <option value="date_asc">Date Ascending</option>
        <option value="date_desc">Date Descending</option>
        <option value="product">By Product</option>
        <option value="category">By Category</option>
        <option value="brand">By Brand</option>
        <option value="supplier">By Supplier</option>
    </select>
</form>


@if (!Model.Any())
{
    <div class="alert alert-warning">No orders recorded.</div>
}
else
{
    <div class="table responsive">
        <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>Order ID</th>
                <th>Date</th>
                <th>Product</th>
                <th>Category</th>
                <th>Brand</th>
                <th>Supplier</th>
                <th>Quantity</th>
                <th>User Email</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model)
            {
                <tr>
                    <td>@order.OrderId</td>
                    <td>@order.OrderDate</td>
                    <td>@order.ProductName</td>
                    <td>@order.Category</td>
                    <td>@order.Brand</td>
                    <td>@order.Supplier</td>
                    <td>@order.Quantity</td>
                    <td>@order.UserEmail</td>
                </tr>
            }
        </tbody>
        </table>    
    </div>
}
